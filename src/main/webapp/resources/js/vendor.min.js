$(document).ready(function() {

  $("[name^=part_no").each(function(index) {
    enableAutoComplete($(this));
  });

  $('.addCF').click(function(e) {
    e.preventDefault();
    $('#part_numbers').append('<tr><td width="16.66%"><input class="form-control part_no" type="text" name="part_no[]"></td><td width="16.66%"><input class="form-control" type="text" name="list_price[]"></td><td width="16.66%"><input class="form-control" type="text" name="lot_charge[]"></td><td width="16.66%"><input class="form-control" type="text" name="lead_time_eng[]"></td><td width="16.66%"><input class="form-control" type="text" name="lead_time_prod[]"></td><td width="16.66%"><a href="javascript:void(0)" class="btn btn-danger btn-sm hidden-print remCF">Remove</a></td></tr>');
    enableAutoComplete($("[name^=part_no]:last"));
  });


  function enableAutoComplete($element) {
    $element.autocomplete({
      delay: 100,
      source: function(request, response) {
        // Suggest URL
        var suggestURL = "http://suggestqueries.google.com/complete/search?client=chrome&q=%QUERY";
        suggestURL = suggestURL.replace('%QUERY', request.term);

        // JSONP Request
        $.ajax({
            method: 'GET',
            dataType: 'jsonp',
            jsonpCallback: 'jsonCallback',
            url: suggestURL
          })
          .success(function(data) {
            response(data[1]);
          });
      }
    });
  }
});
